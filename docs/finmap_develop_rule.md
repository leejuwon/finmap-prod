📘 ② 앞으로 유지해야 할 "FinMap 개발 원칙" 문서

이건 앞으로 확장할 때 반드시 지켜주면 좋을 규칙들.

1. 기존 기능을 절대 수정하지 않는다 (Non-Breaking Rule)

기존 함수는 그대로 둔다

새 기능은 새로운 함수·컴포넌트·섹션으로 추가한다

기존 API의 파라미터도 변경하지 않는다

2. 모든 로직은 “lib”와 “components”로 분리한다

페이지에는 계산 로직 금지

계산 로직은 lib/compound.js로만 이동

UI는 _components 아래로 분리

3. 새 계산 기능은 반드시 독립 파일로 만든다

예:

GoalEngineCard.js

RiskStressTest.js
이런 식으로 독립 컴포넌트만 추가하는 방식

4. 상태는 페이지에서만 관리한다

form state는 Form 내부에서만

계산 결과는 페이지에서만

컴포넌트는 props만 받고 계산 금지

5. 새로운 기능 추가 시 “영향 분석” 먼저 수행한다

매번 아래 질문을 먼저 체크:

1) 기존 state에 영향을 주는가?
2) 기존 계산 결과(result)에 영향을 주는가?
3) 기존 렌더 흐름을 깨는가?
4) 기존 UI 공간을 차지하는가?
5) 독립 컴포넌트로 분리 가능한가?

6. 너와 나 사이 협업 규칙
너는 이렇게 요청하면 돼:

✔ “기존 기능 영향 없이 확장만 해줘.”
✔ “변경이 필요한 파일과 변경 내용만 diff 형태로 알려줘.”
✔ “작업 전에 영향 분석 먼저 해줘.”
✔ “전체 파일 덮어쓰는게 아니라 추가하는 부분만 알려줘.”

7. 변경 시 항상 3단계 체크리스트

기존 결과가 달라졌는가? → 있으면 절대 안 됨

기존 UI가 깨졌는가?

기존 함수 호출 방식이 바뀌었는가?

이 중 하나라도 YES면 내가 설계를 다시 해야 함.
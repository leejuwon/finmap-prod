(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[922],{843:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/[slug]",function(){return n(4050)}])},8814:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(5893),s=n(9008),r=n.n(s);function c(e){var t=e.title,n=e.desc,s=e.url,c=void 0===s?"/":s,i=e.image,o=c.startsWith("http")?c:"".concat("https://www.finmaphub.com").concat(c),l=i||"/og-default.png";return(0,a.jsxs)(r(),{children:[(0,a.jsx)("title",{children:t?"".concat(t," | FinMap"):"FinMap"}),n&&(0,a.jsx)("meta",{name:"description",content:n}),(0,a.jsx)("link",{rel:"canonical",href:o}),(0,a.jsx)("meta",{property:"og:title",content:t||"FinMap"}),n&&(0,a.jsx)("meta",{property:"og:description",content:n}),(0,a.jsx)("meta",{property:"og:url",content:o}),(0,a.jsx)("meta",{property:"og:site_name",content:"FinMap"}),(0,a.jsx)("meta",{property:"og:type",content:"article"}),(0,a.jsx)("meta",{property:"og:image",content:l}),(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:title",content:t||"FinMap"}),n&&(0,a.jsx)("meta",{name:"twitter:description",content:n}),(0,a.jsx)("meta",{name:"twitter:image",content:l})]})}},4050:function(e,t,n){"use strict";n.r(t),n.d(t,{JsonLd:function(){return y},__N_SSG:function(){return b},default:function(){return w}});var a=n(7568),s=n(4924),r=n(6042),c=n(9396),i=n(7582),o=n(5893),l=n(7294),d=n(8814);function u(e){var t=e.client,n=void 0===t?"ca-pub-1869932115288976":t,a=e.slot,s=e.align,r=void 0===s?"center":s,c=(0,l.useRef)(null);return(0,l.useEffect)((function(){try{window.adsbygoogle&&c.current&&(adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){}}),[]),(0,o.jsx)("div",{style:{textAlign:r},children:(0,o.jsx)("ins",{ref:c,className:"adsbygoogle",style:{display:"block"},"data-ad-client":n,"data-ad-slot":a,"data-ad-format":"auto","data-full-width-responsive":"true"})})}function p(e){var t=e.client,n=void 0===t?"ca-pub-1869932115288976":t,a=e.slot,s=(0,l.useRef)(null);return(0,l.useEffect)((function(){try{window.adsbygoogle&&s.current&&(adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){}}),[]),(0,o.jsx)("ins",{ref:s,className:"adsbygoogle",style:{display:"block",textAlign:"center",minHeight:"120px"},"data-ad-client":n,"data-ad-slot":a,"data-ad-format":"fluid","data-ad-layout":"in-article","data-full-width-responsive":"true"})}var m="ca-pub-1869932115288976",h="",f="",x="",g="",j=n(7311),b=!0;function y(e){var t=e.data;return(0,o.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}})}function w(e){var t=e.post,n=t.slug,b={"@context":"https://schema.org","@type":"BlogPosting",headline:t.title,datePublished:t.datePublished,dateModified:t.dateModified||t.datePublished,author:{"@type":"Organization",name:"FinMap"}},w=(0,l.useState)(0),v=w[0],N=w[1],_=(0,l.useState)([]),k=_[0],C=_[1],M=(0,l.useState)({nickname:"",password:"",content:""}),S=M[0],P=M[1],F=(0,l.useState)("https://www.finmaphub.com/posts/".concat(n)),E=F[0],Z=F[1];(0,l.useEffect)((function(){Z(window.location.href),fetch("/api/like?slug=".concat(n)).then((function(e){return e.json()})).then((function(e){return N(e.likes||0)})).catch((function(){})),fetch("/api/comments?slug=".concat(n)).then((function(e){return e.json()})).then((function(e){return C(e.comments||[])})).catch((function(){}))}),[n]);var T=function(){var e=(0,a.Z)((function(){var e,t;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,fetch("/api/like?slug=".concat(n),{method:"POST"})];case 1:return[4,a.sent().json()];case 2:return null!=(e=a.sent()).likes&&N(e.likes),[3,4];case 3:return t=a.sent(),console.error(t),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),O=function(e){var t=e.target,n=t.name,a=t.value;P((function(e){return(0,c.Z)((0,r.Z)({},e),(0,s.Z)({},n,a))}))},R=function(){var e=(0,a.Z)((function(){var e,t;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:if(!S.nickname||!S.password||!S.content)return alert("\ub2c9\ub124\uc784, \ube44\ubc00\ubc88\ud638, \ub0b4\uc6a9\uc744 \ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694."),[2];a.label=1;case 1:return a.trys.push([1,5,,6]),[4,fetch("/api/comments?slug=".concat(n),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)})];case 2:if(!a.sent().ok)throw new Error("failed");return[4,fetch("/api/comments?slug=".concat(n))];case 3:return[4,a.sent().json()];case 4:return e=a.sent(),C(e.comments||[]),P({nickname:"",password:"",content:""}),[3,6];case 5:return t=a.sent(),console.error(t),alert("\ub313\uae00 \ub4f1\ub85d\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),[3,6];case 6:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,a.Z)((function(){var e;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,6,,7]),navigator.share?[4,navigator.share({title:t.title,text:t.description||t.title,url:E})]:[3,2];case 1:return n.sent(),[3,5];case 2:return navigator.clipboard?[4,navigator.clipboard.writeText(E)]:[3,4];case 3:return n.sent(),alert("\ub9c1\ud06c\uac00 \ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),[3,5];case 4:alert("\ub9c1\ud06c\ub97c \uc9c1\uc811 \ubcf5\uc0ac\ud574\uc8fc\uc138\uc694:\n"+E),n.label=5;case 5:return[3,7];case 6:return e=n.sent(),console.error(e),[3,7];case 7:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),H=0,J=(0,j.ZP)(t.contentHtml,{replace:function(e){if("tag"===e.type&&"h2"===e.name){H+=1;var t=(0,j.du)(e.children);return 2===H?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{children:t}),(0,o.jsx)("div",{className:"my-6",children:(0,o.jsx)(p,{client:m,slot:h})})]}):4===H?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{children:t}),(0,o.jsx)("div",{className:"my-6",children:(0,o.jsx)(p,{client:m,slot:f})})]}):(0,o.jsx)("h2",{children:t})}}});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.Z,{title:t.title,desc:t.description,url:"/posts/".concat(t.slug),image:t.cover}),(0,o.jsx)(y,{data:b}),(0,o.jsxs)("article",{className:"prose prose-slate lg:prose-lg max-w-none bg-white border rounded-2xl shadow-card p-6",children:[(0,o.jsx)("h1",{children:t.title}),(0,o.jsxs)("p",{className:"text-sm text-slate-500",children:[t.category," \xb7 ",t.datePublished,t.dateModified&&t.dateModified!==t.datePublished?" \xb7 \uc218\uc815: ".concat(t.dateModified):""]}),(0,o.jsx)("div",{className:"my-4",children:(0,o.jsx)(u,{client:m,slot:x,align:"center"})}),t.cover&&(0,o.jsx)("img",{src:t.cover,alt:t.title,className:"w-full h-auto rounded-xl mt-4 mb-6"}),(0,o.jsx)("div",{className:"fm-post-body",children:J}),(0,o.jsx)("div",{className:"mt-8 mb-4",children:(0,o.jsx)(u,{client:m,slot:g,align:"center"})}),(0,o.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3 border-t pt-4",children:[(0,o.jsxs)("button",{type:"button",onClick:T,className:"btn-secondary",children:["\ud83d\udc4d \uc88b\uc544\uc694 ",v>0?"(".concat(v,")"):""]}),(0,o.jsx)("button",{type:"button",onClick:I,className:"btn-secondary",children:"\ud83d\udd17 \uacf5\uc720\ud558\uae30"}),(0,o.jsx)("a",{href:"https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(E),"&text=").concat(encodeURIComponent(t.title)),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-sky-500 underline",children:"X(Twitter)\uc5d0 \uacf5\uc720"}),(0,o.jsx)("a",{href:"https://www.facebook.com/sharer.php?u=".concat(encodeURIComponent(E)),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 underline",children:"Facebook\uc5d0 \uacf5\uc720"})]}),(0,o.jsxs)("section",{className:"mt-6 border-t pt-4",children:[(0,o.jsx)("h2",{className:"text-base md:text-lg font-semibold mb-3",children:"\ub313\uae00"}),(0,o.jsxs)("div",{className:"grid gap-2 mb-4",children:[(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,o.jsx)("input",{name:"nickname",placeholder:"\ub2c9\ub124\uc784",className:"input",value:S.nickname,onChange:O}),(0,o.jsx)("input",{name:"password",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638 (\uc218\uc815/\uc0ad\uc81c\uc6a9)",className:"input",value:S.password,onChange:O})]}),(0,o.jsx)("textarea",{name:"content",placeholder:"\ub313\uae00\uc744 \uc785\ub825\ud558\uc138\uc694",className:"input min-h-[80px]",value:S.content,onChange:O}),(0,o.jsx)("div",{className:"flex justify-end",children:(0,o.jsx)("button",{type:"button",className:"btn-primary",onClick:R,children:"\ub313\uae00 \ub4f1\ub85d"})})]}),0===k.length?(0,o.jsx)("p",{className:"text-sm text-slate-500",children:"\uc544\uc9c1 \ub313\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):(0,o.jsx)("ul",{className:"space-y-3",children:k.map((function(e){return(0,o.jsxs)("li",{className:"border rounded-lg px-3 py-2 bg-slate-50",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,o.jsx)("span",{className:"text-sm font-semibold",children:e.nickname}),e.created_at&&(0,o.jsx)("span",{className:"text-[11px] text-slate-400",children:new Date(e.created_at).toLocaleString("ko-KR")})]}),(0,o.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content})]},e.id)}))})]})]})]})}}},function(e){e.O(0,[45,774,888,179],(function(){return t=843,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
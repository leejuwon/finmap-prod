(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[922],{843:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/[slug]",function(){return n(4050)}])},8814:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(5893),s=n(9008),a=n.n(s);function c(e){var t=e.title,n=e.desc,s=e.url,c=void 0===s?"/":s,o=e.image,i=c.startsWith("http")?c:"".concat("https://www.finmaphub.com").concat(c),l=o||"/og-default.png";return(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:t?"".concat(t," | FinMap"):"FinMap"}),n&&(0,r.jsx)("meta",{name:"description",content:n}),(0,r.jsx)("link",{rel:"canonical",href:i}),(0,r.jsx)("meta",{property:"og:title",content:t||"FinMap"}),n&&(0,r.jsx)("meta",{property:"og:description",content:n}),(0,r.jsx)("meta",{property:"og:url",content:i}),(0,r.jsx)("meta",{property:"og:site_name",content:"FinMap"}),(0,r.jsx)("meta",{property:"og:type",content:"article"}),(0,r.jsx)("meta",{property:"og:image",content:l}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:title",content:t||"FinMap"}),n&&(0,r.jsx)("meta",{name:"twitter:description",content:n}),(0,r.jsx)("meta",{name:"twitter:image",content:l})]})}},4050:function(e,t,n){"use strict";n.r(t),n.d(t,{JsonLd:function(){return y},__N_SSG:function(){return b},default:function(){return w}});var r=n(7568),s=n(4924),a=n(6042),c=n(9396),o=n(7582),i=n(5893),l=n(7294),u=n(8814);function d(e){var t=e.client,n=void 0===t?"ca-pub-1869932115288976":t,r=e.slot,s=e.align,a=void 0===s?"center":s,c=(0,l.useRef)(null);return(0,l.useEffect)((function(){try{window.adsbygoogle&&c.current&&(adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){}}),[]),(0,i.jsx)("div",{style:{textAlign:a},children:(0,i.jsx)("ins",{ref:c,className:"adsbygoogle",style:{display:"block"},"data-ad-client":n,"data-ad-slot":r,"data-ad-format":"auto","data-full-width-responsive":"true"})})}function p(e){var t=e.client,n=void 0===t?"ca-pub-1869932115288976":t,r=e.slot,s=(0,l.useRef)(null);return(0,l.useEffect)((function(){try{window.adsbygoogle&&s.current&&(adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){}}),[]),(0,i.jsx)("ins",{ref:s,className:"adsbygoogle",style:{display:"block",textAlign:"center",minHeight:"120px"},"data-ad-client":n,"data-ad-slot":r,"data-ad-format":"fluid","data-ad-layout":"in-article","data-full-width-responsive":"true"})}var h="ca-pub-1869932115288976",m="1924002516",f="3101352817",x="9858332854",g="4881338348",j=n(7311),b=!0;function y(e){var t=e.data;return(0,i.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}})}function w(e){var t=e.post,n=t.slug,b={"@context":"https://schema.org","@type":"BlogPosting",headline:t.title,datePublished:t.datePublished,dateModified:t.dateModified||t.datePublished,author:{"@type":"Organization",name:"FinMap"}},w=(0,l.useState)(0),v=w[0],N=w[1],_=(0,l.useState)([]),k=_[0],C=_[1],S=(0,l.useState)({nickname:"",password:"",content:""}),Z=S[0],E=S[1],M=(0,l.useState)("https://www.finmaphub.com/posts/".concat(n)),P=M[0],T=M[1],F=function(){var e=(0,r.Z)((function(){var e,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("/api/comments?slug=".concat(n))];case 1:return[4,r.sent().json()];case 2:return e=r.sent(),C(e.comments||[]),[3,4];case 3:return t=r.sent(),console.error(t),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,r.Z)((function(){var e,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("/api/like?slug=".concat(n))];case 1:return[4,r.sent().json()];case 2:return e=r.sent(),N(e.likes||0),[3,4];case 3:return t=r.sent(),console.error(t),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){T(window.location.href),O(),F()}),[n]);var R=function(){var e=(0,r.Z)((function(){var e,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("/api/like?slug=".concat(n),{method:"POST"})];case 1:return[4,r.sent().json()];case 2:return null!=(e=r.sent()).likes&&N(e.likes),[3,4];case 3:return t=r.sent(),console.error(t),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),J=function(e){var t=e.target,n=t.name,r=t.value;E((function(e){return(0,c.Z)((0,a.Z)({},e),(0,s.Z)({},n,r))}))},I=function(){var e=(0,r.Z)((function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:if(!Z.nickname||!Z.password||!Z.content)return alert("\ub2c9\ub124\uc784, \ube44\ubc00\ubc88\ud638, \ub0b4\uc6a9\uc744 \ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694."),[2];t.label=1;case 1:return t.trys.push([1,4,,5]),[4,fetch("/api/comments?slug=".concat(n),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)})];case 2:if(!t.sent().ok)throw new Error("failed");return[4,F()];case 3:return t.sent(),E({nickname:"",password:"",content:""}),[3,5];case 4:return e=t.sent(),console.error(e),alert("\ub313\uae00 \ub4f1\ub85d\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),[3,5];case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,r.Z)((function(e){var t,r,s,a;return(0,o.__generator)(this,(function(c){switch(c.label){case 0:if(!(t=prompt("\uc218\uc815\ud560 \ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.",e.content||"")))return[2];if(!(r=prompt("\ub313\uae00 \uc791\uc131 \uc2dc \uc785\ub825\ud55c \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694.")))return[2];c.label=1;case 1:return c.trys.push([1,6,,7]),[4,fetch("/api/comments?slug=".concat(n),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,password:r,content:t})})];case 2:return(s=c.sent()).ok?[3,4]:[4,s.json().catch((function(){return{}}))];case 3:return"invalid password"===c.sent().error?alert("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."):alert("\ub313\uae00 \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),[2];case 4:return[4,F()];case 5:return c.sent(),[3,7];case 6:return a=c.sent(),console.error(a),alert("\ub313\uae00 \uc218\uc815 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),[3,7];case 7:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=(0,r.Z)((function(e){var t,r,s;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:if(!confirm("\uc815\ub9d0 \uc774 \ub313\uae00\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return[2];if(!(t=prompt("\ub313\uae00 \uc791\uc131 \uc2dc \uc785\ub825\ud55c \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694.")))return[2];a.label=1;case 1:return a.trys.push([1,6,,7]),[4,fetch("/api/comments?slug=".concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,password:t})})];case 2:return(r=a.sent()).ok?[3,4]:[4,r.json().catch((function(){return{}}))];case 3:return"invalid password"===a.sent().error?alert("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."):alert("\ub313\uae00 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),[2];case 4:return[4,F()];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.error(s),alert("\ub313\uae00 \uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),[3,7];case 7:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=(0,r.Z)((function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,6,,7]),navigator.share?[4,navigator.share({title:t.title,text:t.description||t.title,url:P})]:[3,2];case 1:return n.sent(),[3,5];case 2:return navigator.clipboard?[4,navigator.clipboard.writeText(P)]:[3,4];case 3:return n.sent(),alert("\ub9c1\ud06c\uac00 \ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),[3,5];case 4:alert("\ub9c1\ud06c\ub97c \uc9c1\uc811 \ubcf5\uc0ac\ud574\uc8fc\uc138\uc694:\n"+P),n.label=5;case 5:return[3,7];case 6:return e=n.sent(),console.error(e),[3,7];case 7:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),X=0,A=(0,j.ZP)(t.contentHtml,{replace:function(e){if("tag"===e.type&&"h2"===e.name){X+=1;var t=(0,j.du)(e.children);return 2===X?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{children:t}),(0,i.jsx)("div",{className:"my-6",children:(0,i.jsx)(p,{client:h,slot:m})})]}):4===X?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{children:t}),(0,i.jsx)("div",{className:"my-6",children:(0,i.jsx)(p,{client:h,slot:f})})]}):(0,i.jsx)("h2",{children:t})}}});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{title:t.title,desc:t.description,url:"/posts/".concat(t.slug),image:t.cover}),(0,i.jsx)(y,{data:b}),(0,i.jsxs)("article",{className:"prose prose-slate lg:prose-lg max-w-none bg-white border rounded-2xl shadow-card p-6",children:[(0,i.jsx)("h1",{children:t.title}),(0,i.jsxs)("p",{className:"text-sm text-slate-500",children:[t.category," \xb7 ",t.datePublished,t.dateModified&&t.dateModified!==t.datePublished?" \xb7 \uc218\uc815: ".concat(t.dateModified):""]}),(0,i.jsx)("div",{className:"my-4",children:(0,i.jsx)(d,{client:h,slot:x,align:"center"})}),t.cover&&(0,i.jsx)("img",{src:t.cover,alt:t.title,className:"w-full h-auto rounded-xl mt-4 mb-6"}),(0,i.jsx)("div",{className:"fm-post-body",children:A}),(0,i.jsx)("div",{className:"mt-8 mb-4",children:(0,i.jsx)(d,{client:h,slot:g,align:"center"})}),(0,i.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3 border-t pt-4",children:[(0,i.jsxs)("button",{type:"button",onClick:R,className:"btn-secondary",children:["\ud83d\udc4d \uc88b\uc544\uc694 ",v>0?"(".concat(v,")"):""]}),(0,i.jsx)("button",{type:"button",onClick:H,className:"btn-secondary",children:"\ud83d\udd17 \uacf5\uc720\ud558\uae30"}),(0,i.jsx)("a",{href:"https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(P),"&text=").concat(encodeURIComponent(t.title)),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-sky-500 underline",children:"X(Twitter)\uc5d0 \uacf5\uc720"}),(0,i.jsx)("a",{href:"https://www.facebook.com/sharer.php?u=".concat(encodeURIComponent(P)),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 underline",children:"Facebook\uc5d0 \uacf5\uc720"})]}),(0,i.jsxs)("section",{className:"mt-6 border-t pt-4",children:[(0,i.jsx)("h2",{className:"text-base md:text-lg font-semibold mb-3",children:"\ub313\uae00"}),(0,i.jsxs)("div",{className:"grid gap-2 mb-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsx)("input",{name:"nickname",placeholder:"\ub2c9\ub124\uc784",className:"input",value:Z.nickname,onChange:J}),(0,i.jsx)("input",{name:"password",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638 (\uc218\uc815/\uc0ad\uc81c\uc6a9)",className:"input",value:Z.password,onChange:J})]}),(0,i.jsx)("textarea",{name:"content",placeholder:"\ub313\uae00\uc744 \uc785\ub825\ud558\uc138\uc694",className:"input min-h-[80px]",value:Z.content,onChange:J}),(0,i.jsx)("div",{className:"flex justify-end",children:(0,i.jsx)("button",{type:"button",className:"btn-primary",onClick:I,children:"\ub313\uae00 \ub4f1\ub85d"})})]}),0===k.length?(0,i.jsx)("p",{className:"text-sm text-slate-500",children:"\uc544\uc9c1 \ub313\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):(0,i.jsx)("ul",{className:"space-y-3",children:k.map((function(e){return(0,i.jsxs)("li",{className:"border rounded-lg px-3 py-2 bg-slate-50",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,i.jsx)("span",{className:"text-sm font-semibold",children:e.nickname}),(0,i.jsx)("span",{className:"flex items-center gap-2",children:e.created_at&&(0,i.jsx)("span",{className:"text-[11px] text-slate-400",children:new Date(e.created_at).toLocaleString("ko-KR")})})]}),(0,i.jsx)("p",{className:"text-sm whitespace-pre-wrap mb-2",children:e.content}),(0,i.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,i.jsx)("button",{type:"button",className:"text-xs text-slate-500 hover:text-blue-600",onClick:function(){return L(e)},children:"\uc218\uc815"}),(0,i.jsx)("button",{type:"button",className:"text-xs text-slate-500 hover:text-red-600",onClick:function(){return U(e)},children:"\uc0ad\uc81c"})]})]},e.id)}))})]})]})]})}}},function(e){e.O(0,[45,774,888,179],(function(){return t=843,e(e.s=t);var t}));var t=e.O();_N_E=t}]);